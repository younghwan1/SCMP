* git 협업
    * workspace\projcet\.gitignore 파일 생성
        ** 링크 - https://www.youtube.com/redirect?event=video_description&redir_token=QUFFLUhqa1p4RkZqNE16dUxFQ3ZPQU8zWlRJR3Jvc0xaUXxBQ3Jtc0tuREh5RjFPeDlVd1hQNVAyRFE0UW9WcmlBbmZPMTZNU3Q2VHJxOW13RHZ1NnJXS1JJR1pHRkU0TXhQaEdJT1JkZGlFZHpUN2VRcWx2b2hJS0QydVRHeUJicV81WWhEbk0zaFBuSkJGOENLQ0JWZkt3aw%3D%3D&q=https%3A%2F%2Fgithub.com%2Fgithub%2Fgitignore%2Fblob%2Fmaster%2FGlobal%2FJetBrains.gitignore&v=oNF6LHiK6KI
        ** 추가 내용
            venv/ 추가
            settings.py - SECRET_KEY : 장고 app에 하나씩 배정, 배포 시 노출되지 않는것이 좋다.
                -- 추가 파일 생성 후 key 값 읽어들이도록
                django-environ 라이브러리 추가 - https://www.youtube.com/redirect?event=video_description&redir_token=QUFFLUhqa3haWVJEWEFINHYwV1V1WE0yYzVGR05mSFBiZ3xBQ3Jtc0tuTXNheXg0Xy1EM2pEbXpYWl9LZ3U1cmdPSXhmTHdZM25VX0hfSF9wYzM5QVBvV0Y3MnRrVlduc291eVN5YVgzTFBld3BwVkc3VHd4WkNKbE1jQlNIamFGZGRON0Fva2x4UmVRd0xyRXA0bkI5NVpZYw%3D%3D&q=https%3A%2F%2Fdjango-environ.readthedocs.io%2Fen%2Flatest%2F&v=oNF6LHiK6KI
                    - pip install django-environ
                    .env 파일 생성 ( pycharm plugin 설치 - envfile 등) 후 key 값 바꾸기
            .env 제외 추가
            db.sqlite3 추가
            .idea/ 추가




* S+CMP
    * 업무
        심영환
            Front단 개발 ( Locale, DB, Template - Excel, rest api)
            state chart diagram, ui navigation diagram

        홍은표
            Server단 개발 ( Token, Locale )

        김경일
            Actix - Web, Rust (화학물질분석서버)

    * 확인 요함
        1. 화면설계 excel > page field list > P7,8 인벤토리 등록 :
            1.1 : 제품의 취급량들만 등록하는지 - 물질은
            1.2 : 제품 영업비밀, 물질 영업비밀 별개인지

        2. 용어통일
            2.1 : 취급량, 당해년도 취급량, 해당연도 취급량
            2.2 : 취급예상량, 취급예정량 (당해년도 취급예정)
            2.3 : 구성성분명?, 물질명



    * DB
        가독성 위해 컬럼명 끝 단어가 ID인 경우만 단어전체 대문자표기 (userID, comID 등. 그 외는 카멜표기)
        사용자 이름은 외국이름과 3글자 이상의 한글성명을 고려해 varchar(15)
        NCIS 에서 물질명을 영문과 국문으로 나눠 관리됨. MtrlNmEng, MtrlNmKor 로 분리
        CHEM ID 가 있어야 개별 업체 DB를 구분가능함. 전체 db에 일련번호 부여필요함

        1. 제품인벤토리(TItemInventory)

        2. 사용자(TUser)
            관리자 정보는 어느테이블에서 관리
            읽기 쓰기 권한 컬럼 추가 - 현재의 권한등급 컬럼은 사용자의 관리권한
            사용자 테이블 외에도 권한 테이블의 경우 장고 기본제공 DB와 동기화 필요함

        3. 구성제품인벤토리(TItemInv)

        4. 구성물질인벤토리(TMtrlInventory)
            물질별 등록 기준에 대한 컬럼 - 쉬스켐 DB를 참조


        * 쉬스켐 규제 DB
            1. 규제규칙 기준구분은 기준치보다 크거나 작다를 구분하는 컬럼, 대부분 이상
            2. 관리자번호 :
                물질의 형태(유독물질 등)에 따라 부여된 번호.
                같은 규제의 고시번호가 있더라도 관리자번호는 달라질 수 있음.
            3. UN No, EC No 는 필요한 경우에만 부여



    * 화면설계

        * 로그인, 회원가입, ID/Password 찾기, 중복가입, 가입완료
            악의적인 목적으로 타 사업체의 정보로 가입하는 경우가 있을 수 있음

        * 개인/회사 개인정보 및 약관 동의
            약관 업데이트 필요 - 개인정보보호법 개정 (2020,8,5일부터 시행) 에 따라 약관 검토 필요함

        * 대시보드
            1. 조회는 권한이 없는 모두에게
            2. 로그인과 상관없이 관리자에게는 메일 발송 (주1회 정도) - 업무 처리 독려

        * 업체 사용자 관리

        * 관리자용 업체관리

        * 인벤토리 일괄등록

        * 인벤토리 개별등록

        * 인벤토리 통합조회

        * 화학물질 검토

        * 물질검색 12p (쉬스캠에서 확보한 DB 조회)
            1. 카스번호가 없는 물질 조회 - 물질명 검색 시 해당 내용을 포함하는 물질 모두 보여주고 그 중 선택 (자동완성)
            쉬스캠에서 화면구성변경 후 인천관세법인으로 전달

        * 물질량 추적 13p
            1. 조회조건 추가 - 과거 월별, 연도별
                페이지에서 보여주는 물질량은 연단위
            2. 물질량을 클릭하면 팝업으로 상세내용 표시 - 제품과 구성성분 별개

        * 규제검토 필요물질 14,5p
            1. 고시번호를 가지고 다니는 형태로
            2. 카스번호와 매치해서 규제량을 확인. 확인 후 쉬스켐 디비에 참고자료로 저장
            3. 규제검토에서 결과를 저장하더라도 해당 물질은 계속 보이도록 - 이행완료
                규제 검토시 쉬스켐 디비 먼저 확인 후 업체 디비 확인. 업체 규제 디비에 저장이 되어있다면 규제검토에 보여줌
            4. 추후 검토문의 버튼을 추가 ( 부가서비스)
            5. 업체 디비에 규제대상이 아닌것으로 저장 :
                모든 항목에 체크하지 않고 저장을 시도 - 저장되지 않도록 시스템에서 막아야 함 (박부장님 의견)
                기존 시스템에선 모든 항목에 함량을 기입하지 않는 경우, 해당물질이 함유된 제품은 모두 유해화학물질로 판단.
            6. 검토 저장, 삭제 이후 같은 물질이 다시 규제검토 목록에 올라왔을 때
                6.1. 이전 담당자의 실수로 다시 올라오지 않는경우가 발생할 수 있다.
                6.2. 검토를 거쳤던 물질은 저장 결과와 상관없이 리스트에 남아있도록 (누적된 결과 포함)
            7. 취급구분 클릭 시 이력 팝업

        * 화학물질 확인 16 ~ 19p :
            1. 검색조건 추가 - 월별, 연도별 조회
            2. (엑셀 다운로드 시 (2020)
                해가 넘어가면 다음년도 데이터만 입력하고 업데이트) -- 확인
                해가 바뀌는 경우 이전연도 데이터를 복사하고 수치가 넘어가는 경우 리스트 업
                담당자가 한번 더 확인하도록 만들어진 페이지와 절차 (이행관리 페이지)
                이행해야 할 목록을 상단에 노출 ( 체크박스 옵션 추가 - 미이행, 이행대상x, 이행대상, 이행완료)
                    다른화면도 리스팅 할 때 세분화 ( 대시보드 등 )

                    한 화면에서 볼 수 있도록 구성?  : 한화면 출력(신규 등을 구분해서), 탭 등














     상세분류 : 의미없는 구분자
     함량기준수치 : 화관은 이상의 값만,

     특수한 규칙의 경우 : 물질베이스로 처리. 혼합물의 경우 카스번호가 하나만 있거나 없을 수 있다.
     기타참고항목1 : 일일히 파싱하는 과정이 필요
     취급정보 : 사용하지 않음
     카스번호가 없는 경우 이명으로 추후 검토




     * 화면설계

        20p : 유해성 심사 결과 선택, 정보전달 선택 시 로직

        21p : 등록용도>드랍박스 타입 분류체계 - 정해진 옵션들의 값(ex:용제)과 저장위치(DB)
              저장 시 DB까지? (맞다면 20p에서의 저장은 첨부파일만?)

              등록통지서의 내용을 전달받은 내용임
              등록통지서(PDF)만 업로드 하더라도 폼이 같으므로 자동입력되면 좋을것같다
              등록통지서는 한장이 아니라 용도에 따라 여럿일 수 있다


        22p : 변경관리 구분 데이터 필요 (ex:변경신고)

        24 ~ 26p : 정보전달 수신 사항 아이콘의 업무 로직
                   항목 별 저장 후 첨부파일 삭제나 수정이 필요할 수 있음
                   파일첨부



        제품 취급기록 : 물질에 대해서는 취급기록이 남지만 제품에 대해서는 관리가 되지 않고있음
                            관리 하더라도 제품과 물질이 따로
                            회사의 필드 하나를 고정해서 원자재인지 제품인지 구분할 필요가있음 (제조가 있는경우)
                                G, M (취급구분에 변수를 두는것으로)



한 사업자에 공장에 4개라면 한 사업자가 4개를 관리하는 경우
    초기 인벤토리를 입력하는 단계에 공장과 사업자를 구분 - 사업자 단위로 이행 (법마다 다름)
        추후 CMS 관리로의 설계필요



등록신고면제

업무흐름
    검토
        업체 : A 제품 수입에 관한 문의
        쉬스켐 : 검토 (예정량까지)
            물질에 대한 인벤토리(쉬스켐디비)를 확인 및 구축(현재취급유무) : 물질단위, 제품단위
                업체 인벤토리 구축 (인벤토리 개별등록)

        회사 옵션 추가 ( 업체의 물질, 제품 등록 시 함량 단일값을 100으로 맞추는 경우가 있음)
        등록대상 물질 중 검토 누락건에 대해서 개별등록 중 발견한 경우 검토단계로 이동해주는 기능


    수입,제조,내수(구매),면제
        면제의 경우만 따로 입력 - 구매 시 msds 에서 시약용은 기재가 되어 전달


    규제 내용이 바뀐경우(고시) 기존 인벤토리와 비교하여 바뀐내용에 대해 사용자에게 공지 혹은 알람해주는 기능





